<body style=margin:0><style>rect[f=false]{cursor:pointer;transition:x .1s,y .2s}</style>
<svg id=y viewBox="0 0 6 6" height=320 width=320></svg><div id=z />
<script>for(A="map",B=e=>[...e][A](e=>+("0x"+e+e)),C=[];C.push({})<36;);D="innerHTML",E=(e,i)=>{for(c in i)e.setAttribute(c,i[c])},F=e=>e.every((e,i)=>e.i==i),G=(e,i,t,r,f,A)=>(1-i)*((1-e)*t+e*r)+i*((1-e)*f+e*A),H=(e,i)=>[e.i,i.i]=[i.i,e.i],I=J=K=0,L=e=>(b=C.filter(e=>!e.f)[A](e=>e.i).sort(e=>Math.random()-.5),C[A](e=>e.f||(e.i=b.pop()))),M=e=>Z[A](e=>B(e.substr(K,4))),N=e=>z[D]=`Level:${K+1} Moves:${J++}`,O=e=>(N(),C[A](({i:e},i)=>E(y.childNodes[i],{i:e,x:X(e),y:Y(e)}))),Q=e=>{P=[],y[D]="",J=0,C[A]((e,i)=>{e.i=i,e.f=/^[3]*[50]/.test(i),e.fill=`rgb(${M()[A](e=>G(X(i)/5,Y(i)/5,...e))})`;let t=document.createElementNS("http://www.w3.org/2000/svg","rect");E(t,{height:1,width:1,x:X(i),y:Y(i),...e}),t.onclick=i=>{if(e.f||!I)return zzfx();zzfx(),2==P.push(e)&&(H(...P),P=[],O(),zzfx()),F(C)&&Q(++K)},y.appendChild(t)}),setTimeout(e=>{L(),O(),I=1},1e3)},X=e=>e%6,Y=e=>e/6|0,Z=["F1F032E875E64D","53FDF273F1FA6E","438ECA16368A1D"],Q()</script>