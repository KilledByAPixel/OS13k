<body style=margin:0>
<video style=width:100%;height:100% id=V autoplay src onerror="navigator.mediaDevices.getUserMedia({audio:1,video:{width:R=640,height:480}}).then(s=>S=V.srcObject=s)"muted></video>
<a id=A download style=display:none><canvas id=c  width=640 height=480></a>
<div style=position:absolute;top:3;right:3>
<button onclick=A.click(c.getContext`2d`.drawImage(V,0,0),A.href=c.toDataURL`image/png`)>📷</button>
<button onclick="this.innerHTML=(R=!R)?(M.stop(),A.click(A.href=window.URL.createObjectURL(new Blob(B,X))),'🎥'):(B=[],M=new MediaRecorder(S,X={type:'video/webm'}),M.ondataavailable=e=>B.push(e.data),M.start(9),'🛑')">🎥